# FURPS+ Требования — MVP цифровизации депозитов

| Категория | Требование | Архитектурная значимость | Тип | Приоритет | Архитектурные последствия | Комментарий |
|-----------|------------|--------------------------|-----|-----------|---------------------------|-------------|
| **Functionality (Функциональность)** | Поддержка подачи заявок на депозиты с сайта и интернет-банка | ✅ | Бизнес | High | Разработка API или интеграционного слоя, поддержка Web/Mobile клиентов | Ключевой бизнес-функционал MVP |
|  | На сайте — просмотр списка депозитов с актуальными ставками и подача заявки с ФИО и телефоном | ✅ | Бизнес/Тех | High | HTTPS/TLS для передачи данных, интеграция с CRM/кол-центром, хранение в защищённой БД | Требует безопасной интеграции с системой кол-центра |
|  | В интернет-банке — отображение стандартных и персонализированных ставок | ✅ | Бизнес/Тех | High | Интеграция с хранилищем ставок и профилем клиента, кеширование персональных данных | Персонализация ставок |
|  | Подтверждение заявки в интернет-банке через SMS-код | ✅ | Тех | High | Использование существующего SMS-модуля ядра, REST/SOAP API интеграция | Избегаем доработок стороннего подрядчика |
|  | Отправка SMS-уведомлений о подтверждении ставки и открытия депозита | ✅ | Тех | High | Подключение к SMS-шлюзу ядра, очередь сообщений для надёжной доставки | Обеспечивает информирование клиента |
|  | Возможность работы с XLS-файлами ставок для бэк-офиса депозитов и кредитов | ✅ | Бизнес/Тех | Medium | Модуль импорта/экспорта XLS, хранение ставок в централизованном хранилище (БД или АБС) | Возможно перенос функционала в АБС |
|  | Поддержка особых условий депозита, назначаемых менеджером кол-центра | ✅ | Бизнес | Medium | Расширение функционала CRM/кол-центра и интеграция с АБС | Настройка бизнес-правил |
|  | Документация для будущего расширения системы | ✅ | Тех | Medium | Автоматическая генерация API-доков (Swagger, OpenAPI), Confluence/Wiki | Упрощает масштабирование проекта |
| **Usability (Удобство)** | Интерфейс в соответствии с корпоративной дизайн-системой | ✅ | Тех | High | Использование общих UI-компонентов, дизайн-гайды, библиотека компонентов | Соблюдение фирменного стиля |
|  | Быстрый отклик (< 1 сек) по операциям | ✅ | Тех | High | Кэширование, оптимизация SQL-запросов, использование in-memory решений | Влияет на выбор архитектуры |
| **Reliability (Надёжность)** | Доступность сервисов 99,9% | ✅ | Тех | High | Архитектура с отказоустойчивостью, балансировщики, репликация данных | SLA банка |
|  | Работа 24/7, включая интернет-банк | ✅ | Тех | High | Мониторинг (Prometheus, Grafana), горячее резервирование | Обеспечение непрерывности работы |
|  | Переключение на резервный ЦОД в случае сбоя | ✅ | Тех | High | Настройка DR-плана, репликация БД между ЦОД, DNS-failover | Disaster Recovery сценарий |
| **Performance (Производительность)** | Отклик операций в миллисекунды | ✅ | Тех | High | Предзагрузка данных, асинхронные вызовы, кэширование (Redis/Memcached) | Высокая производительность критична |
|  | Устранение задержек (>1 сек) при загрузке справочников | ✅ | Тех | High | Локальный кэш, отдельный справочник-сервис, денормализация | Ускорение ответов |
| **Supportability (Сопровождаемость)** | Использование существующих технологий (MS SQL, Oracle, Kafka) | ✅ | Тех | High | Архитектура на совместимых СУБД, Kafka для асинхронного обмена | Минимизация обучения персонала |
|  | Совместимость с текущими платформами разработки | ✅ | Тех | High | Использование существующего стека разработки | Упрощает интеграцию |
|  | Возможность горизонтального масштабирования интернет-банка | ✅ | Тех | Medium | Балансировка нагрузки, контейнеризация, stateless-сервисы | Подготовка к росту нагрузки |
| **+ (Дополнительно)** | Безопасная передача данных (TLS/HTTPS) с сайта и интернет-банка | ✅ | Тех | High | Настройка TLS 1.3, HSTS, регулярный аудит SSL-конфигурации | Обязательное требование безопасности |
|  | Исключение прямого доступа интернет-банка к API АБС | ✅ | Тех | High | Внедрение middleware/ESB-шины для интеграций | Снижение нагрузки на АБС |
|  | Разделение нагрузки между ЦОД, серверами и приложениями | ✅ | Тех | High | Балансировщики (L4/L7), geo-distribution | Отказоустойчивость и масштабируемость |
|  | Возможность расширения функционала интернет-банка под микросервисы | ✅ | Тех | Medium | Модульная архитектура, сервисная шина, API Gateway | Подготовка к цифровой трансформации |
|  | Защита персональных данных (GDPR/152-ФЗ) | ✅ | Тех | High | Шифрование в покое (AES-256), контроль доступа, логирование операций | Критично для финансового сектора |




## Дополнительные требования (FURPS+ — расширение)

| Категория | Требование | Архитектурная значимость | Тип | Приоритет | Архитектурные последствия | Комментарий |
|---|---|---|---|---|---|---|
| **Functionality** | Идемпотентность операций по открытию депозита | ✅ | Тех | High | Idempotency-Key, повторяемые команды, консистентные статус-машины | Нужна защита от повторных запросов (дубликаты по сети/браузеру). |
| **Functionality** | Версионирование публичных API | ✅ | Тех | Medium | API Gateway c маршрутизацией v1/v2, контракт-тесты | Позволит эволюционировать API без даунтайма клиентов. |
| **Usability** | Доступность по WCAG 2.1 AA | ✅ | Тех | Medium | Линтеры доступности, автотесты UI | Требование для госсектора/банков, снижает риски и расширяет аудиторию. |
| **Usability** | Локализация/форматы (RU/EN, даты, суммы) | ✅ | Бизнес/Тех | Medium | i18n, единая библиотека форматирования | Удобство и корректность отображения сумм/ставок. |
| **Reliability** | RTO/RPO: 1 час / 15 минут (пример) | ✅ | Тех | High | Стратегия бэкапов, репликация БД, DR-процедуры | Конкретизирует доступность: иначе невозможно спланировать DR. |
| **Reliability** | SLA для SMS-OTP/уведомлений | ✅ | Тех | High | Очереди с ретраями, DLQ, метрики доставки | Без SLA подтверждение может «проваливаться» и ломать UX/конверсию. |
| **Performance** | Лимит/троттлинг и защита от пиковой нагрузки | ✅ | Тех | High | Rate limiting на API GW, очереди, «bulkhead» | Защита АБС/CRM от перегрузки и деградации. |
| **Performance** | Квоты на запросы к АБС/CRM | ✅ | Тех | High | Кэш read-only данных, пачечные операции | АБС масштабируется вертикально — нужно бережное потребление. |
| **Security** | Маскирование PII в логах и трейсах | ✅ | Тех | High | Фильтры логирования, токенизация/шифрование полей | Снижает риск утечек при мониторинге/отладке. |
| **Security** | Политика ротации ключей/секретов | ✅ | Тех | High | Vault с автоповоротом, короткоживущие токены | Соответствие требованиям аудита/комплаенса. |
| **Security** | RBAC/SoD для back-office | ✅ | Тех | High | Роли и ограничения на операции, атрибутивный доступ | Исключает мошенничество и ошибки при работе со ставками/заявками. |
| **Security** | Анти-fraud правила для аномалий (MVP) | ✅ | Тех | Medium | Простые эвристики/скоринг до подключения full-AML | Базовая защита до внедрения тяжёлых систем. |
| **Supportability** | Полный трассинг (OpenTelemetry) | ✅ | Тех | High | Трейсинг через API GW/сервисы, кореляция логов | Быстрое расследование инцидентов и узких мест. |
| **Supportability** | Стратегия миграций схем БД без даунтайма | ✅ | Тех | High | Liquibase/Flyway, «expand-contract» | Позволяет выпускать фичи без остановки сервиса. |
| **Supportability** | Синтетический мониторинг и SLO/ошибочные бюджеты | ✅ | Тех | Medium | Пробные транзакции, алерты по SLO | Превентивный контроль качества, а не только реактивные алерты. |
| **+** | Feature Flags/тонкая активация | ✅ | Тех | Medium | FF-платформа, канареечные включения | Снижает риск релизов, позволяет A/B сценарии. |
| **+** | Blue-Green/Canary деплой | ✅ | Тех | Medium | Двойные пулы, обратимый релиз, health-чеки | Минимизация времени простоя и рисков релиза. |
| **+** | Управление конфигурацией per-env | ✅ | Тех | High | Централизованный конфиг-сервис, секреты вне образов | Исключает «дрейф» окружений и ручные правки. |
| **+** | Обезличивание тестовых данных | ✅ | Тех | Medium | Маскирование/синтетика в DEV/UAT | Безопасная разработка/тестирование с реальными сценариями. |
| **+** | Политика хранения и удаления данных (GDPR/152-ФЗ) | ✅ | Тех | High | TTL/архивация, процессы «право на забвение» | Юр. соответствие и снижение объёма хранимого PII. |
