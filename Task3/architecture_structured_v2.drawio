<mxfile host="app.diagrams.net"><diagram id="Pg1" name="MVP Deposits Architecture"><mxGraphModel dx="1600" dy="900" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1920" pageHeight="1080" math="0" shadow="0"><root><mxCell id="0" /><mxCell id="1" parent="0" /><mxCell id="2" value="Каналы" style="swimlane;rounded=1;html=1;horizontal=0;startSize=28;fillColor=#ffffff;strokeColor=#999999;" vertex="1" parent="1"><mxGeometry x="20" y="20" width="220" height="900" as="geometry" /></mxCell><mxCell id="3" value="Безопасность" style="swimlane;rounded=1;html=1;horizontal=0;startSize=28;fillColor=#ffffff;strokeColor=#999999;" vertex="1" parent="1"><mxGeometry x="260" y="20" width="220" height="900" as="geometry" /></mxCell><mxCell id="4" value="API слой" style="swimlane;rounded=1;html=1;horizontal=0;startSize=28;fillColor=#ffffff;strokeColor=#999999;" vertex="1" parent="1"><mxGeometry x="500" y="20" width="220" height="900" as="geometry" /></mxCell><mxCell id="5" value="Доменные сервисы" style="swimlane;rounded=1;html=1;horizontal=0;startSize=28;fillColor=#ffffff;strokeColor=#999999;" vertex="1" parent="1"><mxGeometry x="740" y="20" width="220" height="900" as="geometry" /></mxCell><mxCell id="6" value="Данные/Очереди" style="swimlane;rounded=1;html=1;horizontal=0;startSize=28;fillColor=#ffffff;strokeColor=#999999;" vertex="1" parent="1"><mxGeometry x="1040" y="20" width="220" height="900" as="geometry" /></mxCell><mxCell id="7" value="Интеграции" style="swimlane;rounded=1;html=1;horizontal=0;startSize=28;fillColor=#ffffff;strokeColor=#999999;" vertex="1" parent="1"><mxGeometry x="1280" y="20" width="220" height="900" as="geometry" /></mxCell><mxCell id="8" value="Внешние ядра" style="swimlane;rounded=1;html=1;horizontal=0;startSize=28;fillColor=#ffffff;strokeColor=#999999;" vertex="1" parent="1"><mxGeometry x="1520" y="20" width="220" height="900" as="geometry" /></mxCell><mxCell id="9" value="Операции" style="swimlane;rounded=1;html=1;horizontal=0;startSize=28;fillColor=#ffffff;strokeColor=#999999;" vertex="1" parent="1"><mxGeometry x="1760" y="20" width="220" height="900" as="geometry" /></mxCell><mxCell id="10" value="Сайт (Web)" style="rounded=1;whiteSpace=wrap;html=1;arcSize=12;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="2"><mxGeometry x="20" y="60" width="180" height="60" as="geometry" /></mxCell><mxCell id="11" value="Интернет-банк (Web/Mobile)" style="rounded=1;whiteSpace=wrap;html=1;arcSize=12;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="2"><mxGeometry x="20" y="140" width="180" height="60" as="geometry" /></mxCell><mxCell id="12" value="WAF / Reverse Proxy&#10;TLS 1.3 + HSTS" style="rounded=1;whiteSpace=wrap;html=1;arcSize=12;fillColor=#f5f5f5;strokeColor=#999999;" vertex="1" parent="3"><mxGeometry x="20" y="60" width="180" height="60" as="geometry" /></mxCell><mxCell id="13" value="Load Balancer L7&#10;Федерация между ЦОД" style="rounded=1;whiteSpace=wrap;html=1;arcSize=12;fillColor=#f5f5f5;strokeColor=#999999;" vertex="1" parent="3"><mxGeometry x="20" y="160" width="180" height="60" as="geometry" /></mxCell><mxCell id="14" value="API Gateway&#10;Rate limiting, JWT/OAuth2, Audit" style="rounded=1;whiteSpace=wrap;html=1;arcSize=12;fillColor=#f5f5f5;strokeColor=#999999;" vertex="1" parent="4"><mxGeometry x="20" y="80" width="180" height="60" as="geometry" /></mxCell><mxCell id="15" value="BFF/Edge Services (опц.)" style="rounded=1;whiteSpace=wrap;html=1;arcSize=12;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="4"><mxGeometry x="20" y="200" width="180" height="60" as="geometry" /></mxCell><mxCell id="16" value="Deposit Service&#10;Заявки, статусы, условия" style="rounded=1;whiteSpace=wrap;html=1;arcSize=12;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="5"><mxGeometry x="20" y="60" width="180" height="60" as="geometry" /></mxCell><mxCell id="17" value="Rate Service&#10;Ставки: базовые + персональные, кеш" style="rounded=1;whiteSpace=wrap;html=1;arcSize=12;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="5"><mxGeometry x="20" y="160" width="180" height="60" as="geometry" /></mxCell><mxCell id="18" value="Rate Import&#10;Импорт XLS → БД/кеш" style="rounded=1;whiteSpace=wrap;html=1;arcSize=12;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="5"><mxGeometry x="20" y="260" width="180" height="60" as="geometry" /></mxCell><mxCell id="19" value="Notification Orchestrator&#10;Шаблоны, события" style="rounded=1;whiteSpace=wrap;html=1;arcSize=12;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="5"><mxGeometry x="20" y="360" width="180" height="60" as="geometry" /></mxCell><mxCell id="20" value="In-Memory Cache&#10;Redis/аналог" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="6"><mxGeometry x="20" y="100" width="180" height="60" as="geometry" /></mxCell><mxCell id="21" value="DB Deposits&#10;MS SQL / Oracle" style="ellipse;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="6"><mxGeometry x="20" y="200" width="180" height="60" as="geometry" /></mxCell><mxCell id="22" value="Сообщения/События&#10;Kafka (перспектива)" style="shape=hexagon;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="6"><mxGeometry x="20" y="300" width="180" height="60" as="geometry" /></mxCell><mxCell id="23" value="ESB/Middleware&#10;Синхр./асинхр. адаптеры" style="rounded=1;whiteSpace=wrap;html=1;arcSize=12;fillColor=#f5f5f5;strokeColor=#999999;" vertex="1" parent="7"><mxGeometry x="20" y="120" width="180" height="60" as="geometry" /></mxCell><mxCell id="24" value="CRM/Кол-центр" style="rounded=1;whiteSpace=wrap;html=1;arcSize=12;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="7"><mxGeometry x="20" y="240" width="180" height="60" as="geometry" /></mxCell><mxCell id="25" value="АБС&#10;Вертикально масштабируемая БД" style="rounded=1;whiteSpace=wrap;html=1;arcSize=12;fillColor=#f5f5f5;strokeColor=#999999;" vertex="1" parent="7"><mxGeometry x="20" y="360" width="180" height="60" as="geometry" /></mxCell><mxCell id="26" value="Ядро SMS&#10;OTP + уведомления" style="rounded=1;whiteSpace=wrap;html=1;arcSize=12;fillColor=#f5f5f5;strokeColor=#999999;" vertex="1" parent="8"><mxGeometry x="20" y="120" width="180" height="60" as="geometry" /></mxCell><mxCell id="27" value="Monitoring&#10;Prometheus/Grafana/ELK" style="rounded=1;whiteSpace=wrap;html=1;arcSize=12;fillColor=#f5f5f5;strokeColor=#999999;" vertex="1" parent="9"><mxGeometry x="20" y="80" width="180" height="60" as="geometry" /></mxCell><mxCell id="28" value="Secrets/Vault" style="rounded=1;whiteSpace=wrap;html=1;arcSize=12;fillColor=#f5f5f5;strokeColor=#999999;" vertex="1" parent="9"><mxGeometry x="20" y="200" width="180" height="60" as="geometry" /></mxCell><mxCell id="29" edge="1" parent="1" source="10" target="12" style="endArrow=block;html=1;rounded=0;strokeColor=#333333;" value="Просмотр ставок, заявка"><mxGeometry relative="1" as="geometry" /></mxCell><mxCell id="30" edge="1" parent="1" source="11" target="12" style="endArrow=block;html=1;rounded=0;strokeColor=#333333;" value="Просмотр, заявка, OTP"><mxGeometry relative="1" as="geometry" /></mxCell><mxCell id="31" edge="1" parent="1" source="12" target="13" style="endArrow=block;html=1;rounded=0;strokeColor=#333333;"><mxGeometry relative="1" as="geometry" /></mxCell><mxCell id="32" edge="1" parent="1" source="13" target="14" style="endArrow=block;html=1;rounded=0;strokeColor=#333333;"><mxGeometry relative="1" as="geometry" /></mxCell><mxCell id="33" edge="1" parent="1" source="14" target="15" style="endArrow=block;html=1;rounded=0;strokeColor=#333333;"><mxGeometry relative="1" as="geometry" /></mxCell><mxCell id="34" edge="1" parent="1" source="15" target="16" style="endArrow=block;html=1;rounded=0;strokeColor=#333333;"><mxGeometry relative="1" as="geometry" /></mxCell><mxCell id="35" edge="1" parent="1" source="14" target="17" style="endArrow=block;html=1;rounded=0;strokeColor=#333333;"><mxGeometry relative="1" as="geometry" /></mxCell><mxCell id="36" edge="1" parent="1" source="17" target="20" style="endArrow=block;html=1;rounded=0;strokeColor=#333333;" value="кеш"><mxGeometry relative="1" as="geometry" /></mxCell><mxCell id="37" edge="1" parent="1" source="18" target="17" style="endArrow=block;html=1;rounded=0;strokeColor=#333333;" value="импорт ставок"><mxGeometry relative="1" as="geometry" /></mxCell><mxCell id="38" edge="1" parent="1" source="17" target="21" style="endArrow=block;html=1;rounded=0;strokeColor=#333333;" value="ставки"><mxGeometry relative="1" as="geometry" /></mxCell><mxCell id="39" edge="1" parent="1" source="16" target="21" style="endArrow=block;html=1;rounded=0;strokeColor=#333333;" value="заявки"><mxGeometry relative="1" as="geometry" /></mxCell><mxCell id="40" edge="1" parent="1" source="16" target="22" style="endArrow=block;html=1;rounded=0;strokeColor=#333333;" value="события статусов"><mxGeometry relative="1" as="geometry" /></mxCell><mxCell id="41" edge="1" parent="1" source="16" target="26" style="endArrow=block;html=1;rounded=0;strokeColor=#333333;" value="OTP запрос"><mxGeometry relative="1" as="geometry" /></mxCell><mxCell id="42" edge="1" parent="1" source="19" target="26" style="endArrow=block;html=1;rounded=0;strokeColor=#333333;" value="уведомления"><mxGeometry relative="1" as="geometry" /></mxCell><mxCell id="43" edge="1" parent="1" source="16" target="23" style="endArrow=block;html=1;rounded=0;strokeColor=#333333;" value="синхр/асинхр"><mxGeometry relative="1" as="geometry" /></mxCell><mxCell id="44" edge="1" parent="1" source="23" target="24" style="endArrow=block;html=1;rounded=0;strokeColor=#333333;"><mxGeometry relative="1" as="geometry" /></mxCell><mxCell id="45" edge="1" parent="1" source="23" target="25" style="endArrow=block;html=1;rounded=0;strokeColor=#333333;"><mxGeometry relative="1" as="geometry" /></mxCell><mxCell id="46" edge="1" parent="1" source="24" target="23" style="endArrow=block;html=1;rounded=0;strokeColor=#333333;"><mxGeometry relative="1" as="geometry" /></mxCell><mxCell id="47" edge="1" parent="1" source="25" target="23" style="endArrow=block;html=1;rounded=0;strokeColor=#333333;"><mxGeometry relative="1" as="geometry" /></mxCell><mxCell id="48" edge="1" parent="1" source="23" target="16" style="endArrow=block;html=1;rounded=0;strokeColor=#333333;"><mxGeometry relative="1" as="geometry" /></mxCell><mxCell id="49" edge="1" parent="1" source="14" target="27" style="endArrow=block;html=1;rounded=0;strokeColor=#333333;"><mxGeometry relative="1" as="geometry" /></mxCell><mxCell id="50" edge="1" parent="1" source="16" target="27" style="endArrow=block;html=1;rounded=0;strokeColor=#333333;"><mxGeometry relative="1" as="geometry" /></mxCell><mxCell id="51" edge="1" parent="1" source="17" target="27" style="endArrow=block;html=1;rounded=0;strokeColor=#333333;"><mxGeometry relative="1" as="geometry" /></mxCell><mxCell id="52" edge="1" parent="1" source="23" target="27" style="endArrow=block;html=1;rounded=0;strokeColor=#333333;"><mxGeometry relative="1" as="geometry" /></mxCell><mxCell id="53" edge="1" parent="1" source="12" target="27" style="endArrow=block;html=1;rounded=0;strokeColor=#333333;"><mxGeometry relative="1" as="geometry" /></mxCell><mxCell id="54" edge="1" parent="1" source="28" target="14" style="endArrow=block;html=1;rounded=0;strokeColor=#333333;"><mxGeometry relative="1" as="geometry" /></mxCell><mxCell id="55" edge="1" parent="1" source="28" target="16" style="endArrow=block;html=1;rounded=0;strokeColor=#333333;"><mxGeometry relative="1" as="geometry" /></mxCell><mxCell id="56" edge="1" parent="1" source="28" target="17" style="endArrow=block;html=1;rounded=0;strokeColor=#333333;"><mxGeometry relative="1" as="geometry" /></mxCell></root></mxGraphModel></diagram></mxfile>